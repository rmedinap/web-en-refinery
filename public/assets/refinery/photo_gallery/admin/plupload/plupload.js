!function(){function e(){this.returnValue=!1}function t(){this.cancelBubble=!0}var i,n,s=0,r=[],a={},o={},l={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},u=/[<>&\"\']/g,d=window.setTimeout,c={};!function(e){var t,i,n,s=e.split(/,/);for(t=0;t<s.length;t+=2)for(n=s[t+1].split(/ /),i=0;i<n.length;i++)o[n[i]]=s[t]}("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var h={VERSION:"1.5.4",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:o,ua:function(){var e,t,i,n=navigator,s=n.userAgent,r=n.vendor;return e=/WebKit/.test(s),i=e&&-1!==r.indexOf("Apple"),t=window.opera&&window.opera.buildNumber,{windows:-1!==navigator.platform.indexOf("Win"),ie:!e&&!t&&/MSIE/gi.test(s)&&/Explorer/gi.test(n.appName),webkit:e,gecko:!e&&/Gecko/.test(s),safari:i,opera:!!t}}(),typeOf:function(e){return{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(e){return h.each(arguments,function(t,i){i>0&&h.each(t,function(t,i){e[i]=t})}),e},cleanName:function(e){var t,i;for(i=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<i.length;t+=2)e=e.replace(i[t],i[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},addRuntime:function(e,t){return t.name=e,r[e]=t,r.push(t),t},guid:function(){var e,t=(new Date).getTime().toString(32);for(e=0;5>e;e++)t+=Math.floor(65535*Math.random()).toString(32);return(h.guidPrefix||"p")+t+(s++).toString(32)},buildUrl:function(e,t){var i="";return h.each(t,function(e,t){i+=(i?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),i&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},each:function(e,t){var n,s,r;if(e)if(n=e.length,n===i){for(s in e)if(e.hasOwnProperty(s)&&t(e[s],s)===!1)return}else for(r=0;n>r;r++)if(t(e[r],r)===!1)return},formatSize:function(e){return e===i||/\D/.test(e)?h.translate("N/A"):e>1073741824?Math.round(e/1073741824,1)+" GB":e>1048576?Math.round(e/1048576,1)+" MB":e>1024?Math.round(e/1024,1)+" KB":e+" b"},getPos:function(e,t){function i(e){var t,i,n=0,s=0;return e&&(i=e.getBoundingClientRect(),t="CSS1Compat"===l.compatMode?l.documentElement:l.body,n=i.left+t.scrollLeft,s=i.top+t.scrollTop),{x:n,y:s}}var n,s,r,a=0,o=0,l=document;if(e=e,t=t||l.body,e&&e.getBoundingClientRect&&navigator.userAgent.indexOf("MSIE")>0&&l.documentMode<8)return s=i(e),r=i(t),{x:s.x-r.x,y:s.y-r.y};for(n=e;n&&n!=t&&n.nodeType;)a+=n.offsetLeft||0,o+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)a-=n.scrollLeft||0,o-=n.scrollTop||0,n=n.parentNode;return{x:a,y:o}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}},parseSize:function(e){var t;return"string"==typeof e&&(e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],"g"==t&&(e*=1073741824),"m"==t&&(e*=1048576),"k"==t&&(e*=1024)),e},xmlEncode:function(e){return e?(""+e).replace(u,function(e){return l[e]?"&"+l[e]+";":e}):e},toArray:function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i},inArray:function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1},addI18n:function(e){return h.extend(a,e)},translate:function(e){return a[e]||e},isEmptyObj:function(e){if(e===i)return!0;for(var t in e)return!1;return!0},hasClass:function(e,t){var i;return""==e.className?!1:(i=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),i.test(e.className))},addClass:function(e,t){h.hasClass(e,t)||(e.className=""==e.className?t:e.className.replace(/\s+$/,"")+" "+t)},removeClass:function(e,t){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(i,function(e,t,i){return" "===t&&" "===i?" ":""})},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},addEvent:function(s,r,a){var o,l,u;u=arguments[3],r=r.toLowerCase(),n===i&&(n="Plupload_"+h.guid()),s.addEventListener?(o=a,s.addEventListener(r,o,!1)):s.attachEvent&&(o=function(){var i=window.event;i.target||(i.target=i.srcElement),i.preventDefault=e,i.stopPropagation=t,a(i)},s.attachEvent("on"+r,o)),s[n]===i&&(s[n]=h.guid()),c.hasOwnProperty(s[n])||(c[s[n]]={}),l=c[s[n]],l.hasOwnProperty(r)||(l[r]=[]),l[r].push({func:o,orig:a,key:u})},removeEvent:function(e,t){var s,r,a;if("function"==typeof arguments[2]?r=arguments[2]:a=arguments[2],t=t.toLowerCase(),e[n]&&c[e[n]]&&c[e[n]][t]){s=c[e[n]][t];for(var o=s.length-1;o>=0&&(s[o].key!==a&&s[o].orig!==r||(e.removeEventListener?e.removeEventListener(t,s[o].func,!1):e.detachEvent&&e.detachEvent("on"+t,s[o].func),s[o].orig=null,s[o].func=null,s.splice(o,1),r===i));o--);if(s.length||delete c[e[n]][t],h.isEmptyObj(c[e[n]])){delete c[e[n]];try{delete e[n]}catch(l){e[n]=i}}}},removeAllEvents:function(e){var t=arguments[1];e[n]!==i&&e[n]&&h.each(c[e[n]],function(i,n){h.removeEvent(e,n,t)})}};h.Uploader=function(e){function t(){var e,t,i=0;if(this.state==h.STARTED){for(t=0;t<l.length;t++)e||l[t].status!=h.QUEUED?i++:(e=l[t],e.status=h.UPLOADING,this.trigger("BeforeUpload",e)&&this.trigger("UploadFile",e));i==l.length&&(this.stop(),this.trigger("UploadComplete",l))}}function n(){var e,t;for(s.reset(),e=0;e<l.length;e++)t=l[e],t.size!==i?(s.size+=t.size,s.loaded+=t.loaded):s.size=i,t.status==h.DONE?s.uploaded++:t.status==h.FAILED?s.failed++:s.queued++;s.size===i?s.percent=l.length>0?Math.ceil(100*(s.uploaded/l.length)):0:(s.bytesPerSec=Math.ceil(s.loaded/((+new Date-a||1)/1e3)),s.percent=s.size>0?Math.ceil(100*(s.loaded/s.size)):0)}var s,a,o={},l=[],u=!1;s=new h.QueueProgress,e=h.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},e),h.extend(this,{state:h.STOPPED,runtime:"",features:{},files:l,settings:e,total:s,id:h.guid(),init:function(){function s(){var e,t,i,n=u[f++];if(n){if(e=n.getFeatures(),t=p.settings.required_features)for(t=t.split(","),i=0;i<t.length;i++)if(!e[t[i]])return s(),void 0;n.init(p,function(t){t&&t.success?(p.features=e,p.runtime=n.name,p.trigger("Init",{runtime:n.name}),p.trigger("PostInit"),p.refresh()):s()})}else p.trigger("Error",{code:h.INIT_ERROR,message:h.translate("Init error.")})}var o,u,c,p=this,f=0;if("function"==typeof e.preinit?e.preinit(p):h.each(e.preinit,function(e,t){p.bind(t,e)}),e.page_url=e.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(e.url)||(e.url=e.page_url+e.url),e.chunk_size=h.parseSize(e.chunk_size),e.max_file_size=h.parseSize(e.max_file_size),p.bind("FilesAdded",function(t,n){var s,r,a,o=0,u=e.filters;for(u&&u.length&&(a=[],h.each(u,function(e){h.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?a.push("\\.*"):a.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),a=new RegExp(a.join("|")+"$","i")),s=0;s<n.length;s++)r=n[s],r.loaded=0,r.percent=0,r.status=h.QUEUED,!a||a.test(r.name)?r.size!==i&&r.size>e.max_file_size?t.trigger("Error",{code:h.FILE_SIZE_ERROR,message:h.translate("File size error."),file:r}):(l.push(r),o++):t.trigger("Error",{code:h.FILE_EXTENSION_ERROR,message:h.translate("File extension error."),file:r});return o?(d(function(){p.trigger("QueueChanged"),p.refresh()},1),void 0):!1}),e.unique_names&&p.bind("UploadFile",function(e,t){var i=t.name.match(/\.([^.]+)$/),n="tmp";i&&(n=i[1]),t.target_name=t.id+"."+n}),p.bind("UploadProgress",function(e,t){t.percent=t.size>0?Math.ceil(100*(t.loaded/t.size)):100,n()}),p.bind("StateChanged",function(e){if(e.state==h.STARTED)a=+new Date;else if(e.state==h.STOPPED)for(o=e.files.length-1;o>=0;o--)e.files[o].status==h.UPLOADING&&(e.files[o].status=h.QUEUED,n())}),p.bind("QueueChanged",n),p.bind("Error",function(e,i){i.file&&(i.file.status=h.FAILED,n(),e.state==h.STARTED&&d(function(){t.call(p)},1))}),p.bind("FileUploaded",function(e,i){i.status=h.DONE,i.loaded=i.size,e.trigger("UploadProgress",i),d(function(){t.call(p)},1)}),e.runtimes)for(u=[],c=e.runtimes.split(/\s?,\s?/),o=0;o<c.length;o++)r[c[o]]&&u.push(r[c[o]]);else u=r;s(),"function"==typeof e.init?e.init(p):h.each(e.init,function(e,t){p.bind(t,e)})},refresh:function(){this.trigger("Refresh")},start:function(){l.length&&this.state!=h.STARTED&&(this.state=h.STARTED,this.trigger("StateChanged"),t.call(this))},stop:function(){this.state!=h.STOPPED&&(this.state=h.STOPPED,this.trigger("CancelUpload"),this.trigger("StateChanged"))},disableBrowse:function(){u=arguments[0]!==i?arguments[0]:!0,this.trigger("DisableBrowse",u)},getFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e)return l[t]},removeFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e.id)return this.splice(t,1)[0]},splice:function(e,t){var n;return n=l.splice(e===i?0:e,t===i?l.length:t),this.trigger("FilesRemoved",n),this.trigger("QueueChanged"),n},trigger:function(e){var t,i,n=o[e.toLowerCase()];if(n)for(i=Array.prototype.slice.call(arguments),i[0]=this,t=0;t<n.length;t++)if(n[t].func.apply(n[t].scope,i)===!1)return!1;return!0},hasEventListener:function(e){return!!o[e.toLowerCase()]},bind:function(e,t,i){var n;e=e.toLowerCase(),n=o[e]||[],n.push({func:t,scope:i||this}),o[e]=n},unbind:function(e){e=e.toLowerCase();var t,n=o[e],s=arguments[1];if(n){if(s!==i){for(t=n.length-1;t>=0;t--)if(n[t].func===s){n.splice(t,1);break}}else n=[];n.length||delete o[e]}},unbindAll:function(){var e=this;h.each(o,function(t,i){e.unbind(i)})},destroy:function(){this.stop(),this.trigger("Destroy"),this.unbindAll()}})},h.File=function(e,t,i){var n=this;n.id=e,n.name=t,n.size=i,n.loaded=0,n.percent=0,n.status=0},h.Runtime=function(){this.getFeatures=function(){},this.init=function(){}},h.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},h.runtimes={},window.plupload=h}();